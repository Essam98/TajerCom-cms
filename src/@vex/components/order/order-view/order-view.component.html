<header class="headerModal  d-flex justify-content-between p-5 py-3  ">
    <div class="titleModal">
        <h2 > Order for {{ get('name').value }} </h2>
    </div>
    <div class="dismissModal">
    </div>
</header>

<main class="main">

    <form [formGroup]="form" ngForm="form">

        <div class="container">
            <div class="row">

                <div class="body-form mt-5 w-100 card">
                    <div class="row container py-4 ">

                        <div class="col-md-12 py-3">
                            <h3>Order Details</h3>
                        </div>

                        <!-- name -->
                        <div class="col-md-6">
                            <mat-form-field appearance="outline" class="w-100 mt-2">
                                <mat-label> Name </mat-label>
                                <input matInput readonly="true" formControlName="name" autocomplete="off">
                            </mat-form-field>
                            
                        </div>


                        <!-- phoneNumber -->
                        <div class="col-md-6">
                            <mat-form-field appearance="outline" class="w-100 mt-2">
                                <mat-label> Phone Name </mat-label>
                                <input readonly="true" matInput formControlName="phoneNumber" autocomplete="off">
                            </mat-form-field>
                        </div>

    
                        <!-- totalPrice -->
                        <div class="col-md-6">
                            <mat-form-field appearance="outline" class="w-100 mt-2">
                                <mat-label> Total Price </mat-label>
                                <input matInput readonly="true" formControlName="totalPrice" autocomplete="off">
                            </mat-form-field>
                        </div>       
    
                        <!-- Date -->
                        <div class="col-md-6">
                            <mat-form-field appearance="outline" class="w-100 mt-2">
                                <mat-label> Date </mat-label>
                                <input matInput readonly="true" formControlName="date" autocomplete="off">
                            </mat-form-field>
                        </div>       
                        
                        


                        <!-- longitude -->
                        <div class="col-md-6">
                            <mat-form-field appearance="outline" class="w-100 mt-2">
                                <mat-label> Longitude </mat-label>
                                <input readonly="true" matInput type="number" formControlName="longitude" autocomplete="off">
                                <mat-error>This field is required</mat-error>
                            </mat-form-field>
                        </div>

                        <!-- latitude -->
                        <div class="col-md-6">
                            <mat-form-field appearance="outline" class="w-100 mt-2">
                                <mat-label> Latitude </mat-label>
                                <input readonly="true" type="number" matInput formControlName="latitude" autocomplete="off" >
                                <mat-error>This field is required</mat-error>
                            </mat-form-field>
                        </div>


                        <table mat-table [dataSource]="dataSource" class="container mat-elevation-z8 my-5">
                        
                            
                            <!-- Image Column -->
                            <ng-container matColumnDef="image">
                                <th mat-header-cell *matHeaderCellDef> image </th>
                                <td mat-cell *matCellDef="let element"> 
                                <div class="container-img">
                                    <img [src]="getImageUrl(element.image)" width="100%" height="100%" alt="">  
                                </div>
                                </td>
                            </ng-container>
                            
                            <!-- name Column -->
                            <ng-container matColumnDef="name">
                                <th class="text-center" mat-header-cell *matHeaderCellDef> Product Name </th>
                                <td class="text-center" mat-cell *matCellDef="let element"> {{element.englishNameProduct}} </td>
                            </ng-container>

                            <!-- quantity Column -->
                            <ng-container matColumnDef="quantity">
                                <th class="text-center" mat-header-cell *matHeaderCellDef> Quantity </th>
                                <td class="text-center" mat-cell *matCellDef="let element"> {{ element?.quantity}} </td>
                            </ng-container>

                            <!-- price Column -->
                            <ng-container matColumnDef="price">
                                <th class="text-center" mat-header-cell *matHeaderCellDef> price </th>
                                <td class="text-center" mat-cell *matCellDef="let element"> {{ element.price }} </td>
                            </ng-container>
                        
                            <!-- status Column -->
                            <ng-container matColumnDef="status">
                                <th class="text-center" mat-header-cell *matHeaderCellDef> Status </th>
                                <td class="text-center" mat-cell *matCellDef="let element"> {{ element.status }} </td>
                            </ng-container>
                        

                            <!-- view -->
                            <ng-container matColumnDef="view">
                                <th class="text-right" mat-header-cell *matHeaderCellDef> View </th>
                                <td class="text-right" mat-cell *matCellDef="let element"> 
                    
                                <button class="btn btn-primary">
                                    <i [routerLink]="['/apps/order-view']" [queryParams]="{ id: element._id }" class="bi bi-eye-fill"></i>
                                </button>
                                
                                </td>
                            </ng-container>
                            
                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>
                    
                        

                        <div class="agm-container">
                            <agm-map 
                                [latitude]="this.get('latitude').value" 
                                [longitude]="this.get('longitude').value" 
                                [zoom]="zoom">
                                <agm-marker 
                                    (dragEnd)="locationChanged($event)" 
                                    [latitude]="this.get('latitude').value" 
                                    [longitude]="this.get('longitude').value"
                                    [markerDraggable]="true">
                                </agm-marker>
                            </agm-map>
                        </div>
                        
                        
                        <div class="container buttonsModal w-100 text-right ">
                            <button (click)="complete()" class="btn m-3 create-category"> Complete </button>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>


    </form>


    

</main>


